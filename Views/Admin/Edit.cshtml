@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model UserRolesView

<h1>Edit</h1>

<h4>User: @Model.User.UserName</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form asp-action="Edit">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input asp-for="User.Email" />
        </form>

        

        <h3>Assign user to role</h3>

        <form asp-controller="Admin" asp-action="AddRoleToUser" method="post">
            <input type="hidden" name="userId" value="@Model.User.Id" />
            
            <label for="roleName">Roles:</label>
            <select id="roleName" name="roleName">
                @foreach (var role in Model.ListRoles)
                {
                    <option value="@role.Name">@role.Name</option>
                }
            </select>

        <button type="submit">submit</button>

        </form>
    </div>
    <div class="col-md-4">
        @foreach(var role in Model.Roles)
{
                <p>@role <a asp-controller="Admin" asp-action="Delete" asp-route-id="@Model.User.Id" asp-route-roleName="@role">Remove</a></p>
}
    </div>
</div>